<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Admin Dashboard - APNA Card</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- App Icons & Manifest -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="application-name" content="APNA Card">
    <meta name="apple-mobile-web-app-title" content="APNA Card">

    <!-- SEO -->
    <meta name="robots" content="noindex, nofollow">
    <link rel="canonical" href="https://apnacard.netlify.app/admin/dashboard">
    <meta name="theme-color" content="#0e3e98">
    <meta property="og:title" content="Admin Dashboard â€” APNA Card">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/admin/dashboard">
    <meta name="twitter:card" content="summary">
    
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" onclick="toggleSidebar()"></div>
        
        <!-- Admin Sidebar -->
        <nav class="admin-sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-brand">
                    <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7.07,18.28C7.5,17.38 10.12,16.5 12,16.5C13.88,16.5 16.5,17.38 16.93,18.28C15.57,19.36 13.86,20 12,20C10.14,20 8.43,19.36 7.07,18.28M18.36,16.83C16.93,15.09 13.46,14.5 12,14.5C10.54,14.5 7.07,15.09 5.64,16.83C4.62,15.5 4,13.82 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,13.82 19.38,15.5 18.36,16.83M12,6C10.06,6 8.5,7.56 8.5,9.5C8.5,11.44 10.06,13 12,13C13.94,13 15.5,11.44 15.5,9.5C15.5,7.56 13.94,6 12,6M12,11A1.5,1.5 0 0,1 10.5,9.5A1.5,1.5 0 0,1 12,8A1.5,1.5 0 0,1 13.5,9.5A1.5,1.5 0 0,1 12,11Z"/>
                    </svg>
                    <span class="brand-text">APNA Card Admin</span>
                </div>
            </div>
            
            <ul class="sidebar-nav">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-section="dashboard">
                        <svg class="icon icon-outline" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z"/>
                        </svg>
                        <span class="link-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#pending" class="nav-link" data-section="pending">
                        <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                            <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,14H13V16H11V14M11,6H13V12H11V6Z"/>
                        </svg>
                        <span class="link-text">Pending Requests</span>
                        <span id="pendingCount" class="badge" style="display: none;">0</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#students" class="nav-link" data-section="students">
                        <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                            <path d="M16,4C18.21,4 20,5.79 20,8S18.21,12 16,12C13.79,12 12,10.21 12,8S13.79,4 16,4M16,14C20.42,14 24,15.79 24,18V20H8V18C8,15.79 11.58,14 16,14M6,6V9H4V6H1V4H4V1H6V4H9V6H6M12.5,11.5C12.84,10.76 13.32,10.1 13.91,9.58C12.61,8.07 10.91,7 9,7A4,4 0 0,0 5,11A4,4 0 0,0 9,15C10.25,15 11.42,14.5 12.5,13.76V11.5Z"/>
                        </svg>
                        <span class="link-text">All Students</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="logout()">
                        <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                            <path d="M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z"/>
                        </svg>
                        <span class="link-text">Logout</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <!-- Main Content -->
        <main class="admin-main" id="mainContent">
            <!-- Top Bar -->
            <div class="topbar">
                <button class="menu-toggle" onclick="toggleSidebar()">
                    <svg class="icon icon-outline" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M3 6H21M3 12H21M3 18H21"/>
                    </svg>
                </button>
                
                <div class="user-info">
                    <div class="user-avatar">A</div>
                    <div>
                        <div style="font-weight: 600;">Admin</div>
                        <div style="font-size: 0.875rem; color: #64748b;">Administrator</div>
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <div id="alert-container"></div>
                
                <!-- Dashboard Stats -->
                <div id="dashboard-section" class="content-section">
                    <div class="page-header">
                        <h1 class="page-title">Admin Dashboard</h1>
                        <p class="page-subtitle">Manage student ID card requests and approvals</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon warning">
                                <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,14H13V16H11V14M11,6H13V12H11V6Z"/>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h3 id="pendingStatsCount">0</h3>
                                <p>Pending Requests</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon success">
                                <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z"/>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h3 id="approvedStatsCount">0</h3>
                                <p>Approved Students</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon primary">
                                <svg class="icon-lg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16,4C18.21,4 20,5.79 20,8S18.21,12 16,12C13.79,12 12,10.21 12,8S13.79,4 16,4M16,14C20.42,14 24,15.79 24,18V20H8V18C8,15.79 11.58,14 16,14M6,6V9H4V6H1V4H4V1H6V4H9V6H6M12.5,11.5C12.84,10.76 13.32,10.1 13.91,9.58C12.61,8.07 10.91,7 9,7A4,4 0 0,0 5,11A4,4 0 0,0 9,15C10.25,15 11.42,14.5 12.5,13.76V11.5Z"/>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalStatsCount">0</h3>
                                <p>Total Students</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Pending Requests Section -->
                <div id="pending-section" class="content-section" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">Pending Requests</h1>
                        <p class="page-subtitle">Review and approve student ID card requests</p>
                    </div>
                    
                    <div class="data-table">
                        <div class="table-header">
                            <h3 style="margin: 0;">Pending Student Requests</h3>
                        </div>
                        <div id="pendingRequestsTable">
                            <!-- Pending requests table will be populated here -->
                        </div>
                    </div>
                </div>
                
                <!-- All Students Section -->
                <div id="students-section" class="content-section" style="display: none;">
                    <div class="page-header">
                        <h1 class="page-title">All Students</h1>
                        <p class="page-subtitle">Manage all registered students</p>
                    </div>
                    
                    <div class="data-table">
                        <div class="table-header">
                            <h3 style="margin: 0;">Student Management</h3>
                            <div class="search-filter">
                                <input type="text" id="studentSearch" class="search-input" placeholder="Search students...">
                                <select id="statusFilter" class="filter-select">
                                    <option value="all">All Status</option>
                                    <option value="pending">Pending</option>
                                    <option value="approved">Approved</option>
                                    <option value="rejected">Rejected</option>
                                </select>
                            </div>
                        </div>
                        <div id="allStudentsTable">
                            <!-- All students table will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer -->
            <footer class="site-footer footer--compact" style="margin-top: var(--spacing-2xl);" role="contentinfo" aria-label="Site footer">
                <div class="container">
                    <div class="footer-compact">
                        <div class="footer-brand">
                            <svg class="icon-lg" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>
                            <span class="brand-text">APNA Card</span>
                        </div>
                        <nav class="footer-links" aria-label="Footer">
                            <a href="/">Home</a>
                            <a href="/about">About</a>
                            <a href="/login">Login</a>
                        </nav>
                        <div class="footer-socials">
                            <a href="#" aria-label="Twitter"><svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M22 5.8c-.8.3-1.6.6-2.4.7.9-.6 1.5-1.3 1.8-2.3-.9.5-1.8.9-2.8 1.1A4.1 4.1 0 0 0 12 8.9c0 .3 0 .6.1.9-3.4-.2-6.4-1.8-8.4-4.3-.4.7-.6 1.4-.6 2.2 0 1.4.7 2.7 1.8 3.5-.7 0-1.3-.2-1.9-.5 0 2 1.5 3.8 3.4 4.2-.4.1-.8.2-1.2.2-.3 0-.6 0-.9-.1.6 1.7 2.2 2.9 4.1 3a8.3 8.3 0 0 1-5.1 1.7H3a11.7 11.7 0 0 0 6.3 1.9c7.6 0 11.8-6.3 11.8-11.8v-.5c.8-.5 1.5-1.2 2-2z"/></svg></a>
                        </div>
                    </div>
                    <div class="footer-bottom">
                        <span>&copy; 2025 APNA Card â€” UET Lahore</span>
                        <span>Admin panel â€¢ Premium, mobile-first</span>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <script src="/js/footer.js" defer></script>
    
    <!-- Student Details Modal -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <div class="card-header" style="padding: var(--spacing-lg); border-bottom: 1px solid #e2e8f0;">
                <h3 style="margin: 0;">Student Details</h3>
            </div>
            <div class="card-body" id="studentModalBody">
                <!-- Student details will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- Link to JavaScript file -->
    <script src="/js/admin-dashboard.js"></script>
</body>
</html>
